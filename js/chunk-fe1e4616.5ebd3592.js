(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe1e4616"],{"0967":function(t,e,a){},"0eb4":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{"aria-live":"polite","aria-atomic":"true"}},t._l(t.message,(function(e,s){return a("div",{key:s,staticClass:"toast toastSuc fade show",attrs:{id:"toast-"+s,role:"alert","aria-live":"assertive","aria-atomic":"true","data-delay":"3000","data-animation":"true"}},[a("div",{staticClass:"toast-header",class:"bg-"+e.status},[t._m(0,!0),a("strong",{staticClass:"mr-auto text-secondaryCoffee"},[t._v("購物車訊息")]),a("button",{staticClass:"ml-2 mb-1 close text-secondaryCoffee",attrs:{type:"button","data-dismiss":"toast","aria-label":"Close"},on:{click:function(e){return t.closeToast("toast-"+s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"toast-body"},[t._v(t._s(e.message))])])})),0)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mr-2 text-secondaryCoffee"},[a("i",{staticClass:"fas fa-coffee"})])}],r=(a("4160"),a("a434"),a("159b"),{data:function(){return{message:[]}},methods:{updateMessage:function(t,e){var a=Math.floor(new Date/1e3);this.message.push({message:t,status:e,timestamp:a}),this.removeMessageWithTiming(a)},removeMessageWithTiming:function(t){var e=this;setTimeout((function(){e.message.forEach((function(a,s){a.timestamp===t&&e.message.splice(s,1)}))}),5e3)},closeToast:function(t){$("#".concat(t)).toast("hide")}},created:function(){var t=this;t.$bus.$on("messagepush",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,a)}))}}),c=r,o=(a("9370"),a("2877")),n=Object(o["a"])(c,s,i,!1,null,null,null);e["a"]=n.exports},"1b37":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"products"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"container"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb bg-beige border-bottom"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"text-lightgrey",attrs:{to:"/"}},[t._v("首頁")])],1),a("li",{staticClass:"breadcrumb-item font-weight-bold active text-infoCoffee",attrs:{"aria-current":"page"}},[t._v(" 商品列表 ")])])]),a("div",{staticClass:"category pb-3"},[a("ul",{staticClass:"d-flex justify-content-center list-unstyled"},[a("li",{class:{active:"all"===t.filterProducts},on:{click:function(e){t.filterSort(t.filterProducts="all")}}},[t._v(" 全部商品 ")]),a("li",{class:{active:"lightRoast"===t.filterProducts},on:{click:function(e){t.filterSort(t.filterProducts="lightRoast")}}},[t._v(" 淺烘焙 ")]),a("li",{class:{active:"midiumRoast"===t.filterProducts},on:{click:function(e){t.filterSort(t.filterProducts="midiumRoast")}}},[t._v(" 中烘焙 ")]),a("li",{class:{active:"other"===t.filterProducts},on:{click:function(e){t.filterSort(t.filterProducts="other")}}},[t._v(" 週邊商品 ")])])]),a("div",{staticClass:"row item"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"content"},[a("div",{staticClass:"d-flex flex-wrap"},t._l(t.categoryProducts,(function(e){return a("div",{key:e.id,staticClass:"products-list bg-white rounded"},[a("div",{staticClass:"card item-card"},[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getProductDetail(e.id)}}},[a("div",{staticClass:"item-card-img",style:{backgroundImage:"url("+e.imageUrl+")"}})]),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title product-title text-center"},[a("a",{staticClass:"text-themeCoffee font-weight-bold",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getProductDetail(e.id)}}},[t._v(" "+t._s(e.title))])]),a("p",{staticClass:"card-text"},[t._v(t._s(e.content))])]),a("div",{staticClass:"d-flex justify-content-between product-all-price"},[a("div",{staticClass:"product-price"},[e.origin_price?a("div",{staticClass:"h6 product-origin"},[t._v(" 原價 $"+t._s(t._f("thousand")(e.origin_price))+" 元 ")]):t._e()]),a("div",{staticClass:"h5 product-off"},[t._v(" 特價 $"+t._s(t._f("thousand")(e.price))+" 元 ")])]),a("div",{staticClass:"modal-footer mt-3"},[a("button",{staticClass:"btn btn-outline-themeCoffee product-detail",attrs:{type:"button"},on:{click:function(a){return t.getProductDetail(e.id)}}},[t._v(" 商品資訊 ")]),a("button",{staticClass:"btn btn-themeCoffee ml-auto",attrs:{type:"button"},on:{click:function(a){return t.addToCart(e)}}},[t._v(" 加入購物車 ")])])])])})),0)])])])]),a("Toast")],1)},i=[],r=(a("99af"),a("4de4"),a("4160"),a("159b"),a("0eb4")),c={components:{Toast:r["a"]},data:function(){return{isLoading:!1,products:[],categoryProducts:[],filterProducts:"all"}},methods:{getProducts:function(){var t=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/","api/").concat("daa979c0-17ef-4c8f-8a22-f4834d3fce7a","/ec/products");this.$http.get(e).then((function(e){t.products=e.data.data,t.categoryProducts=t.products,t.isLoading=!1}))},getProductDetail:function(t){this.$router.push("/product/".concat(t))},addToCart:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s="".concat("https://course-ec-api.hexschool.io/","api/").concat("daa979c0-17ef-4c8f-8a22-f4834d3fce7a","/ec/shopping"),i={product:t.id,quantity:a};this.isLoading=!0,this.$http.post(s,i).then((function(){e.$bus.$emit("get-cart"),e.$bus.$emit("messagepush","加入購物車成功囉!ヽ(＾Д＾)ﾉ ","themeCoffee"),e.isLoading=!1})).catch((function(t){var a=t.response.data.errors;a.forEach((function(t){e.$bus.$emit("messagepush","".concat(t,"Σ( ° △ °|||)"),"danger")})),e.isLoading=!1}))},filterSort:function(){switch(this.filterProducts){case"all":this.categoryProducts=this.products;break;case"lightRoast":this.categoryProducts=this.products.filter((function(t){return"淺烘焙"===t.category}));break;case"midiumRoast":this.categoryProducts=this.products.filter((function(t){return"中烘焙"===t.category}));break;case"other":this.categoryProducts=this.products.filter((function(t){return"Other"===t.category}));break;default:break}}},created:function(){this.getProducts()}},o=c,n=(a("77a6"),a("2877")),u=Object(n["a"])(o,s,i,!1,null,null,null);e["default"]=u.exports},"77a6":function(t,e,a){"use strict";var s=a("a44d"),i=a.n(s);i.a},8418:function(t,e,a){"use strict";var s=a("c04e"),i=a("9bf2"),r=a("5c6c");t.exports=function(t,e,a){var c=s(e);c in t?i.f(t,c,r(0,a)):t[c]=a}},9370:function(t,e,a){"use strict";var s=a("0967"),i=a.n(s);i.a},"99af":function(t,e,a){"use strict";var s=a("23e7"),i=a("d039"),r=a("e8b5"),c=a("861d"),o=a("7b0b"),n=a("50c4"),u=a("8418"),l=a("65f0"),d=a("1dde"),f=a("b622"),h=a("2d00"),g=f("isConcatSpreadable"),v=9007199254740991,p="Maximum allowed index exceeded",m=h>=51||!i((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),b=d("concat"),C=function(t){if(!c(t))return!1;var e=t[g];return void 0!==e?!!e:r(t)},_=!m||!b;s({target:"Array",proto:!0,forced:_},{concat:function(t){var e,a,s,i,r,c=o(this),d=l(c,0),f=0;for(e=-1,s=arguments.length;e<s;e++)if(r=-1===e?c:arguments[e],C(r)){if(i=n(r.length),f+i>v)throw TypeError(p);for(a=0;a<i;a++,f++)a in r&&u(d,f,r[a])}else{if(f>=v)throw TypeError(p);u(d,f++,r)}return d.length=f,d}})},a434:function(t,e,a){"use strict";var s=a("23e7"),i=a("23cb"),r=a("a691"),c=a("50c4"),o=a("7b0b"),n=a("65f0"),u=a("8418"),l=a("1dde"),d=a("ae40"),f=l("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,v=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!f||!h},{splice:function(t,e){var a,s,l,d,f,h,b=o(this),C=c(b.length),_=i(t,C),y=arguments.length;if(0===y?a=s=0:1===y?(a=0,s=C-_):(a=y-2,s=v(g(r(e),0),C-_)),C+a-s>p)throw TypeError(m);for(l=n(b,s),d=0;d<s;d++)f=_+d,f in b&&u(l,d,b[f]);if(l.length=s,a<s){for(d=_;d<C-s;d++)f=d+s,h=d+a,f in b?b[h]=b[f]:delete b[h];for(d=C;d>C-s+a;d--)delete b[d-1]}else if(a>s)for(d=C-s;d>_;d--)f=d+s-1,h=d+a-1,f in b?b[h]=b[f]:delete b[h];for(d=0;d<a;d++)b[d+_]=arguments[d+2];return b.length=C-s+a,l}})},a44d:function(t,e,a){}}]);
//# sourceMappingURL=chunk-fe1e4616.5ebd3592.js.map